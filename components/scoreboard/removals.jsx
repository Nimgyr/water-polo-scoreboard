export function Removals({ players, team }) {
    const filteredPlayers = players.filter((player) => player.removals > 0);
    const teamColor = {
        blue: { fill: "#739CEC", text: "text-white" },
        white: { fill: "#FFFFFF", text: "text-blue-500" },
    }[team];
    return (
        <ul className="mt-4 grid grid-cols-2 space-y-4">
            {filteredPlayers.map((player) => (
                <RemovalInstant
                    teamColor={teamColor}
                    key={player.id}
                    player={player}
                />
            ))}
        </ul>
    );
}

const RemovalInstant = ({ player, teamColor }) => {
    const RemovalDot = ({ active }) => (
        <div
            className={`w-3 h-3 rounded-full ${
                active ? "bg-red-500" : "bg-gray-300"
            } shadow-sm`}
        />
    );

    const renderDots = () => {
        const totalDots = 3; // Общее количество точек
        return Array.from({ length: totalDots }).map((_, index) => (
            <RemovalDot key={index} active={index < player.removals} />
        ));
    };

    return (
        <li className="flex items-center px-5 pb-5 gap-2">
            <div className="relative w-[70px] h-[80px] flex justify-center">
                <svg
                    width="70"
                    height="80"
                    viewBox="0 0 70 80"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M60.0122 8.11842C65.6993 11.8869 69.6576 17.1406 69.6536 24.4946C70.4369 27.1009 69.6443 28.4598 67.5858 29.275C59.93 32.3067 55.3551 37.9936 52.6294 45.6947C50.2323 52.4678 47.4592 59.1099 44.688 65.7477L44.6873 65.7493C44.133 67.077 43.5787 68.4046 43.0276 69.7329L39.0685 74.5306C31.2544 70.4252 23.4639 66.2747 15.6734 62.1243L15.6697 62.1223L15.6645 62.1196C13.4664 60.9485 11.2683 59.7774 9.06963 58.6074C7.05951 57.5377 5.46038 56.1441 5.46335 53.6067C4.92119 51.9195 4.31678 50.3172 3.72564 48.75L3.72562 48.75C2.94104 46.67 2.17984 44.652 1.61854 42.5797C-0.0982657 36.2414 -0.677229 29.8101 1.01181 23.2887C4.02684 11.6476 11.6161 4.34039 22.9258 1.46027C36.1016 -1.89506 48.692 0.617167 60.0122 8.11842Z"
                        fill={teamColor.fill}
                    />
                    <path
                        d="M45.6021 78.6882C44.9057 78.3668 41.1827 76.5389 40.283 75.7103L39.0677 74.9258C29.0459 69.6604 19.0627 64.321 9.06879 59.0026C7.05868 57.9329 5.45859 56.3939 5.49178 53.6643C6.72603 54.0059 7.93102 54.6851 9.42161 55.3915C10.4365 55.8346 11.1649 56.1052 12.0033 56.5219C20.947 61.2727 29.781 65.8773 38.7989 70.5779L38.8139 70.5857C39.4374 69.1985 39.8109 68.4271 40.1359 67.6357C43.8096 58.6899 47.5173 49.7576 51.1269 40.786C52.9398 36.28 55.6643 32.5893 59.7968 29.9669L69.5625 23.5599C70.5684 25.6636 69.7908 29.524 67.7324 30.3392C60.0766 33.3709 55.3542 38.3887 52.6286 46.0899C49.7518 54.2183 46.3335 62.158 43.0267 70.1281C42.3081 71.8601 42.6249 73.437 44.2453 74.382C45.6365 75.7262 47.5434 76.6124 49.8264 78.1752C51.6257 79.4378 51.568 79.7047 51.3333 79.7836C51.1378 79.8625 50.9216 80.2665 49.1615 79.714C47.4013 79.1616 45.7977 78.6882 45.6021 78.6882Z"
                        fill="#D9D9D9"
                    />
                    <path
                        d="M63.2862 27.7484L61.1941 29.0572C58.663 26.4735 57.1056 23.7265 54.665 21.5571C46.4126 14.2214 37.0875 9.5451 25.6151 10.5901C20.0624 11.0959 16.0492 14.0482 12.996 18.421C7.60881 26.1366 7.66074 34.7646 9.30125 43.5183C10.1451 48.0212 11.4806 52.3455 12.5526 56.8056C11.8243 56.5351 11.0327 56.1546 10.199 55.7585C9.25733 52.0924 8.35085 48.7749 7.58441 45.2194C5.96648 37.7137 5.43522 30.1588 8.43801 22.9023C13.4533 10.7823 21.9731 6.88559 33.7333 8.86715C45.5694 10.8615 56.0198 18.4375 63.2862 27.7484Z"
                        fill="#AEAFB0"
                    />
                </svg>

                <span
                    className={`absolute text-6xl font-bold ${teamColor.text}`}
                >
                    {player.id}
                </span>
            </div>
            <div className="flex space-x-1 m-0">{renderDots()}</div>
        </li>
    );
};
